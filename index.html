<!DOCTYPE html>
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <title>Back of the Envelope</title>
   <link rel="stylesheet" type="text/css" href="css/bbui-min.css"/>
</head>
<body>

   <script src="local:///chrome/webworks.js" type="text/javascript"></script>
   <script type="text/javascript" src="lib/bbui.js"></script>
   <script src="lib/jquery-1.8.1.min.js"></script>
   <script src="js/index.js"></script>   
   <script src="lib/zepto.js"></script>
   <script src="lib/hammer.js"></script>
   <script>
      var webworksreadyFired = false;

		app.ready = function () {
			// ensure that we init() only once even if webworksready fires multiple times
			if (webworksreadyFired) {
				return;
			}
			webworksreadyFired = true;
			console.log('calling bb.init from index.html');
			bb.init({
				bb10ActionBarDark : false,
				bb10HighlightColor : '#00A8DF',
				ondomready : function (element, id, params) {
					console.log('ondomready; id: ' + id);					
					switch (id) {
						case 'splashScreen' :
							app.splash.register();
							app.splash.onDOMReady();
							break;
						case 'mathScreen' :
							app.mathScreen.onDOMReady();
							break;
						case 'engrScreen' :
							app.engrScreen.onDOMReady();
							break;
						case 'unitsScreen' :
							app.unitsScreen.onDOMReady();
							break;
						
					}
				}
			});
			bb.pushScreen('splash.html', 'splashScreen');
		};

		window.addEventListener('load', function () {
			document.addEventListener('webworksready', app.ready);
		}, false);
   </script>
</body>
</html>